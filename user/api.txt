üîê API REST User Management - Documentation

JWT
Les tokens JWT expirent apr√®s 1 heure (3600 secondes).


üîí S√©curit√©
Protection des endpoints

Endpoints publics : /users/register, /users/login
Endpoints prot√©g√©s : Tous les autres endpoints n√©cessitent un JWT valide dans le header Authorization: Bearer TOKEN

Hash des mots de passe
Les mots de passe sont hash√©s avec BCrypt avant d'√™tre stock√©s en base de donn√©es. Ils ne sont jamais stock√©s en clair.
JWT Token

Sign√© avec une cl√© secr√®te
Expiration : 1 heure (3600 secondes)
Contient l'email de l'utilisateur dans le champ sub (subject)


üß™ Sc√©nario de test complet
# 1. Cr√©er un utilisateur John
curl -X POST http://localhost:8080/users/register -H "Content-Type: application/json" -d "{\"pseudo\":\"John Doe\",\"email\":\"john@example.com\",\"password\":\"password123\"}"

# 2. Cr√©er un utilisateur Jane
curl -X POST http://localhost:8080/users/register -H "Content-Type: application/json" -d "{\"pseudo\":\"Jane Smith\",\"email\":\"jane@example.com\",\"password\":\"password456\"}"

# 3. Se connecter avec John (‚ö†Ô∏è COPIEZ LE TOKEN !)
curl -X POST http://localhost:8080/users/login -H "Content-Type: application/json" -d "{\"email\":\"john@example.com\",\"password\":\"password123\"}"

# 4. R√©cup√©rer son profil
curl -X GET http://localhost:8080/users/me -H "Authorization: Bearer VOTRE_TOKEN_ICI"

# 5. Modifier son profil
curl -X PUT http://localhost:8080/users/me -H "Authorization: Bearer VOTRE_TOKEN_ICI" -H "Content-Type: application/json" -d "{\"pseudo\":\"John Updated\",\"email\":\"john@example.com\",\"password\":\"newpass123\"}"

# 6. R√©cup√©rer un utilisateur par ID
curl -X GET http://localhost:8080/users/1 -H "Authorization: Bearer VOTRE_TOKEN_ICI"

# 7. Essayer de modifier le compte de Jane avec PUT /users/2 (‚úã SERA BLOQU√â)
curl -X PUT http://localhost:8080/users/2 -H "Authorization: Bearer VOTRE_TOKEN_ICI" -H "Content-Type: application/json" -d "{\"pseudo\":\"Hacker\",\"email\":\"hacker@example.com\",\"password\":\"hack123\"}"

# Recuperer tout les user :
curl -X GET http://localhost:8080/users -H "Authorization: Bearer VOTRE_TOKEN_ICI"

# R√©sultat attendu: {"error":"You can only update your own account"}

# 8. Essayer de supprimer le compte de Jane avec DELETE /users/2 (‚úã SERA BLOQU√â)
curl -X DELETE http://localhost:8080/users/2 -H "Authorization: Bearer VOTRE_TOKEN_ICI"

# R√©sultat attendu: {"error":"You can only delete your own account"}

# 9. Supprimer son propre compte
curl -X DELETE http://localhost:8080/users/me -H "Authorization: Bearer VOTRE_TOKEN_ICI"

# R√©sultat attendu: {"message":"User deleted successfully"}




comment compiler le framwork : 
javac -cp "H:\Documents\CyPay\framework\libs\JWT\*;out;" ^
  -d out ^
  src\main\java\com\cypay\framework\security\*.java ^
  src\main\java\com\cypay\framework\acteur\*.java

"C:\Program Files\Java\jdk-21\bin\jar.exe" cf acteur-framework.jar -C out .
